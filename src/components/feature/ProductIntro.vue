<template>
  <div class="max-w-7xl mx-auto">
    <!-- ä¸»è¦åŠŸèƒ½ä»‹ç» -->
    <div class="text-center mb-16">
      <div class="inline-flex items-center bg-gradient-to-r from-pink-100 to-purple-100 rounded-full px-4 py-2 mb-6">
        <svg
          class="w-4 h-4 mr-2 text-pink-600"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M13 10V3L4 14h7v7l9-11h-7z"
          />
        </svg>
        <span class="text-sm font-medium text-gray-700">AIå›¾ç‰‡å¤„ç†åŠŸèƒ½å…¨è§ˆ</span>
      </div>
      
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
        <span class="text-transparent bg-clip-text bg-gradient-to-r from-pink-600 to-purple-600">17ä¸ªå¼ºå¤§åŠŸèƒ½</span><br>
        æ»¡è¶³ä½ çš„æ‰€æœ‰éœ€æ±‚
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
        ä»èƒŒæ™¯å¤„ç†åˆ°å›¾ç‰‡ä¿®å¤ï¼Œä»ç¾é¢œä¼˜åŒ–åˆ°åˆ›æ„è½¬æ¢ï¼Œä¸€ç«™å¼AIå›¾ç‰‡å¤„ç†å¹³å°ä¸ºä½ æä¾›ä¸“ä¸šçº§çš„å¤„ç†èƒ½åŠ›
      </p>
    </div>

    <!-- åŠŸèƒ½åˆ†ç±»å±•ç¤º -->
    <div class="space-y-16">
      <!-- èƒŒæ™¯å¤„ç†ç±» -->
      <div>
        <div class="text-center mb-8">
          <h3 class="text-2xl font-bold text-gray-900 mb-3 flex items-center justify-center">
            <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-3">
              <span class="text-sm text-white">ğŸ–¼ï¸</span>
            </div>
            èƒŒæ™¯å¤„ç†
          </h3>
          <p class="text-gray-600">
            æ™ºèƒ½èƒŒæ™¯è¯†åˆ«å’Œå¤„ç†æŠ€æœ¯
          </p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <FeatureCard
            v-for="service in backgroundServices"
            :key="service.type"
            :service="service"
            @try-now="handleTryService"
          />
        </div>
      </div>

      <!-- å›¾åƒå¢å¼ºç±» -->
      <div>
        <div class="text-center mb-8">
          <h3 class="text-2xl font-bold text-gray-900 mb-3 flex items-center justify-center">
            <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center mr-3">
              <span class="text-sm text-white">âœ¨</span>
            </div>
            å›¾åƒå¢å¼º
          </h3>
          <p class="text-gray-600">
            æå‡å›¾ç‰‡è´¨é‡å’Œæ¸…æ™°åº¦
          </p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <FeatureCard
            v-for="service in enhancementServices"
            :key="service.type"
            :service="service"
            @try-now="handleTryService"
          />
        </div>
      </div>

      <!-- åˆ›æ„æ•ˆæœç±» -->
      <div>
        <div class="text-center mb-8">
          <h3 class="text-2xl font-bold text-gray-900 mb-3 flex items-center justify-center">
            <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mr-3">
              <span class="text-sm text-white">ğŸ¨</span>
            </div>
            åˆ›æ„æ•ˆæœ
          </h3>
          <p class="text-gray-600">
            è‰ºæœ¯åŒ–å’Œåˆ›æ„å›¾ç‰‡å¤„ç†
          </p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <FeatureCard
            v-for="service in creativeServices"
            :key="service.type"
            :service="service"
            @try-now="handleTryService"
          />
        </div>
      </div>

      <!-- å®ç”¨å·¥å…·ç±» -->
      <div>
        <div class="text-center mb-8">
          <h3 class="text-2xl font-bold text-gray-900 mb-3 flex items-center justify-center">
            <div class="w-8 h-8 bg-gradient-to-r from-gray-500 to-gray-600 rounded-lg flex items-center justify-center mr-3">
              <span class="text-sm text-white">ğŸ”§</span>
            </div>
            å®ç”¨å·¥å…·
          </h3>
          <p class="text-gray-600">
            æ—¥å¸¸å›¾ç‰‡å¤„ç†å¿…å¤‡å·¥å…·
          </p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <FeatureCard
            v-for="service in utilityServices"
            :key="service.type"
            :service="service"
            @try-now="handleTryService"
          />
        </div>
      </div>
    </div>

    <!-- CTAåŒºåŸŸ -->
    <div class="text-center mt-16 p-8 glass-effect rounded-3xl">
      <h3 class="text-2xl font-bold text-gray-900 mb-4">
        å‡†å¤‡å¼€å§‹äº†å—ï¼Ÿ
      </h3>
      <p class="text-gray-600 mb-6">
        é€‰æ‹©ä»»æ„åŠŸèƒ½ï¼Œç«‹å³ä½“éªŒAIå›¾ç‰‡å¤„ç†çš„å¼ºå¤§å¨åŠ›
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <Button
          type="primary"
          size="large"
          @click="scrollToUpload"
        >
          <template #icon>
            <svg
              class="w-5 h-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
              />
            </svg>
          </template>
          ä¸Šä¼ å›¾ç‰‡å¼€å§‹
        </Button>
        <Button
          type="secondary"
          size="large"
          @click="viewPricing"
        >
          æŸ¥çœ‹å®šä»·
        </Button>
      </div>
    </div>
  </div>
</template>

<script>
import { computed } from 'vue'
import Button from '../ui/Button.vue'

// åŠŸèƒ½å¡ç‰‡ç»„ä»¶
const FeatureCard = {
  template: `
    <div class="glass-effect rounded-2xl p-6 hover-lift transition-all duration-200">
      <div class="flex items-start space-x-4">
        <div class="w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0"
             :class="getCategoryGradient(service.category)">
          <span class="text-lg">{{ service.icon }}</span>
        </div>
        <div class="flex-1 min-w-0">
          <h4 class="text-lg font-semibold text-gray-900 mb-2">{{ service.name }}</h4>
          <p class="text-sm text-gray-600 mb-3 line-clamp-2">{{ service.description }}</p>
          
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3 text-xs text-gray-500">
              <span class="flex items-center">
                <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                </svg>
                {{ service.credit_cost }} ç§¯åˆ†
              </span>
              <span class="flex items-center">
                <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                ~{{ Math.round(service.average_processing_time / 1000) }}ç§’
              </span>
            </div>
            
            <button
              @click="$emit('try-now', service.type)"
              class="px-3 py-1.5 text-sm font-medium rounded-lg transition-colors"
              :class="getButtonClass(service.category)"
            >
              è¯•ç”¨
            </button>
          </div>
          
          <div v-if="service.is_popular" class="mt-2">
            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
              <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              çƒ­é—¨
            </span>
          </div>
        </div>
      </div>
    </div>
  `,
  props: ['service'],
  emits: ['try-now'],
  setup() {
    const getCategoryGradient = (category) => {
      const gradients = {
        background: 'bg-gradient-to-r from-blue-500 to-blue-600',
        enhancement: 'bg-gradient-to-r from-green-500 to-green-600', 
        creative: 'bg-gradient-to-r from-purple-500 to-purple-600',
        utility: 'bg-gradient-to-r from-gray-500 to-gray-600'
      }
      return gradients[category] || gradients.utility
    }
    
    const getButtonClass = (category) => {
      const classes = {
        background: 'bg-blue-100 text-blue-700 hover:bg-blue-200',
        enhancement: 'bg-green-100 text-green-700 hover:bg-green-200',
        creative: 'bg-purple-100 text-purple-700 hover:bg-purple-200',
        utility: 'bg-gray-100 text-gray-700 hover:bg-gray-200'
      }
      return classes[category] || classes.utility
    }
    
    return { getCategoryGradient, getButtonClass }
  }
}

export default {
  name: 'ProductIntro',
  components: {
    Button,
    FeatureCard
  },
  
  setup() {
    // 17ä¸ªAIåŠŸèƒ½çš„å®Œæ•´æ•°æ®
    const allServices = [
      // èƒŒæ™¯å¤„ç†ç±»
      {
        type: 'BackgroundRemover',
        name: 'AIèƒŒæ™¯ç§»é™¤',
        description: 'æ™ºèƒ½è¯†åˆ«ä¸»ä½“ï¼Œç²¾å‡†å»é™¤èƒŒæ™¯ï¼Œæ”¯æŒäººåƒã€ç‰©å“ç­‰å„ç±»å›¾ç‰‡',
        icon: 'âœ‚ï¸',
        category: 'background',
        credit_cost: 1,
        average_processing_time: 25000,
        is_popular: true
      },
      {
        type: 'BackgroundChanger',
        name: 'AIèƒŒæ™¯æ›´æ¢',
        description: 'ä¿ç•™ä¸»ä½“çš„åŒæ—¶ï¼Œæ™ºèƒ½æ›¿æ¢èƒŒæ™¯ä¸ºä½ æƒ³è¦çš„åœºæ™¯',
        icon: 'ğŸ–¼ï¸',
        category: 'background', 
        credit_cost: 1.5,
        average_processing_time: 30000
      },
      
      // å›¾åƒå¢å¼ºç±»
      {
        type: 'ImageUpscaler:Standard',
        name: 'æ ‡å‡†å›¾ç‰‡æ”¾å¤§',
        description: 'ä½¿ç”¨æ ‡å‡†ç®—æ³•å°†å›¾ç‰‡æ”¾å¤§2-4å€ï¼Œé€‚åˆå¤§éƒ¨åˆ†å›¾ç‰‡',
        icon: 'ğŸ”',
        category: 'enhancement',
        credit_cost: 1,
        average_processing_time: 35000,
        is_popular: true
      },
      {
        type: 'ImageUpscaler:Photograph',
        name: 'ç…§ç‰‡ä¸“ä¸šæ”¾å¤§',
        description: 'ä¸“ä¸ºç…§ç‰‡ä¼˜åŒ–çš„æ”¾å¤§ç®—æ³•ï¼Œä¿æŒç…§ç‰‡è´¨æ„Ÿå’Œç»†èŠ‚',
        icon: 'ğŸ“¸',
        category: 'enhancement',
        credit_cost: 1,
        average_processing_time: 40000
      },
      {
        type: 'ImageUpscaler:Anime',
        name: 'åŠ¨æ¼«å›¾ç‰‡æ”¾å¤§',
        description: 'ä¸“ä¸ºåŠ¨æ¼«ã€æ’ç”»è®¾è®¡çš„æ”¾å¤§ç®—æ³•ï¼Œä¿æŒçº¿æ¡æ¸…æ™°',
        icon: 'ğŸ¯',
        category: 'enhancement',
        credit_cost: 1,
        average_processing_time: 40000
      },
      {
        type: 'ImageUpscaler:FaceEnhancement',
        name: 'äººè„¸å¢å¼ºæ”¾å¤§',
        description: 'ä¸“æ³¨é¢éƒ¨ç»†èŠ‚ä¼˜åŒ–ï¼Œæå‡äººåƒç…§ç‰‡æ¸…æ™°åº¦',
        icon: 'ğŸ˜Š',
        category: 'enhancement',
        credit_cost: 1,
        average_processing_time: 45000
      },
      {
        type: 'FaceRestoration',
        name: 'AIé¢éƒ¨ä¿®å¤',
        description: 'ä¿®å¤æ¨¡ç³Šã€æŸåçš„é¢éƒ¨ï¼Œæ¢å¤æ¸…æ™°è‡ªç„¶çš„äººåƒ',
        icon: 'âœ¨',
        category: 'enhancement',
        credit_cost: 1,
        average_processing_time: 35000
      },
      {
        type: 'ImageDenoiser',
        name: 'AIå›¾åƒé™å™ª',
        description: 'å»é™¤å›¾ç‰‡å™ªç‚¹å’Œé¢—ç²’ï¼Œæå‡æ•´ä½“ç”»è´¨å’Œæ¸…æ™°åº¦',
        icon: 'ğŸ§¹',
        category: 'enhancement',
        credit_cost: 1,
        average_processing_time: 25000
      },
      {
        type: 'ScratchFix',
        name: 'AIåˆ’ç—•ä¿®å¤',
        description: 'æ™ºèƒ½è¯†åˆ«å¹¶ä¿®å¤è€ç…§ç‰‡ä¸­çš„åˆ’ç—•ã€æŠ˜ç—•ç­‰ç‘•ç–µ',
        icon: 'ğŸ”§',
        category: 'enhancement',
        credit_cost: 1,
        average_processing_time: 40000
      },
      
      // åˆ›æ„æ•ˆæœç±»
      {
        type: 'ColorizePhoto',
        name: 'AIé»‘ç™½ä¸Šè‰²',
        description: 'ä¸ºé»‘ç™½ç…§ç‰‡æ™ºèƒ½æ·»åŠ çœŸå®è‡ªç„¶çš„è‰²å½©',
        icon: 'ğŸ¨',
        category: 'creative',
        credit_cost: 2,
        average_processing_time: 50000
      },
      {
        type: 'Cartoon',
        name: 'AIå¡é€šåŒ–',
        description: 'å°†çœŸå®ç…§ç‰‡è½¬æ¢ä¸ºå„ç§å¡é€šã€åŠ¨æ¼«é£æ ¼',
        icon: 'ğŸ­',
        category: 'creative',
        credit_cost: 1,
        average_processing_time: 35000,
        is_popular: true
      },
      {
        type: 'FaceAnimation:Generation',
        name: 'äººè„¸åŠ¨ç”»ç”Ÿæˆ',
        description: 'ä¸ºé™æ€äººåƒç…§ç‰‡æ·»åŠ ç”ŸåŠ¨çš„é¢éƒ¨åŠ¨ç”»æ•ˆæœ',
        icon: 'ğŸ¬',
        category: 'creative',
        credit_cost: 2,
        average_processing_time: 60000
      },
      {
        type: 'ImageToImage',
        name: 'AIå›¾åƒè½¬æ¢',
        description: 'å°†å›¾ç‰‡è½¬æ¢ä¸ºä¸åŒçš„è‰ºæœ¯é£æ ¼å’Œè§†è§‰æ•ˆæœ',
        icon: 'ğŸ”„',
        category: 'creative',
        credit_cost: 1.5,
        average_processing_time: 45000
      },
      
      // å®ç”¨å·¥å…·ç±»
      {
        type: 'FaceDetection',
        name: 'AIäººè„¸æ£€æµ‹',
        description: 'æ™ºèƒ½æ£€æµ‹äººè„¸ä½ç½®ã€ç‰¹å¾ç‚¹å’ŒåŸºæœ¬å±æ€§ä¿¡æ¯',
        icon: 'ğŸ‘ï¸',
        category: 'utility',
        credit_cost: 0.5,
        average_processing_time: 15000
      },
      {
        type: 'ImageCompressor',
        name: 'AIå›¾åƒå‹ç¼©',
        description: 'æ™ºèƒ½å‹ç¼©å›¾ç‰‡å¤§å°ï¼Œåœ¨ä¿æŒè´¨é‡çš„å‰æä¸‹å‡å°‘æ–‡ä»¶ä½“ç§¯',
        icon: 'ğŸ—œï¸',
        category: 'utility',
        credit_cost: 0.5,
        average_processing_time: 20000
      },
      {
        type: 'ObjectCounter',
        name: 'AIç‰©ä½“è®¡æ•°',
        description: 'è‡ªåŠ¨è¯†åˆ«å¹¶è®¡ç®—å›¾ç‰‡ä¸­ç‰¹å®šç‰©ä½“çš„æ•°é‡',
        icon: 'ğŸ”¢',
        category: 'utility',
        credit_cost: 0.5,
        average_processing_time: 20000
      },
      {
        type: 'FaceAnimation:Detection',
        name: 'äººè„¸åˆ†ææ£€æµ‹',
        description: 'æ·±åº¦åˆ†æäººè„¸ç‰¹å¾ï¼Œæä¾›è¯¦ç»†çš„é¢éƒ¨æ•°æ®',
        icon: 'ğŸ”¬',
        category: 'utility',
        credit_cost: 0.5,
        average_processing_time: 18000
      }
    ]
    
    // æŒ‰åˆ†ç±»åˆ†ç»„
    const backgroundServices = computed(() => 
      allServices.filter(service => service.category === 'background')
    )
    
    const enhancementServices = computed(() => 
      allServices.filter(service => service.category === 'enhancement')
    )
    
    const creativeServices = computed(() => 
      allServices.filter(service => service.category === 'creative')
    )
    
    const utilityServices = computed(() => 
      allServices.filter(service => service.category === 'utility')
    )
    
    // æ–¹æ³•
    const handleTryService = (serviceType) => {
      // æ»šåŠ¨åˆ°ä¸Šä¼ åŒºåŸŸ
      scrollToUpload()
    }
    
    const scrollToUpload = () => {
      document.getElementById('upload-section')?.scrollIntoView({ 
        behavior: 'smooth' 
      })
    }
    
    const viewPricing = () => {
      // å¯ä»¥è·¯ç”±è·³è½¬åˆ°å®šä»·é¡µé¢ï¼Œæˆ–æ»šåŠ¨åˆ°å®šä»·åŒºåŸŸ
      const pricingSection = document.querySelector('.pricing-section')
      if (pricingSection) {
        pricingSection.scrollIntoView({ behavior: 'smooth' })
      }
    }
    
    return {
      backgroundServices,
      enhancementServices,
      creativeServices,
      utilityServices,
      handleTryService,
      scrollToUpload,
      viewPricing
    }
  }
}
</script>

<style scoped>
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
</style>
